(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{18:function(e,t,s){"use strict";s.r(t);var a={components:{Layout:s(1).default},props:{map:Object},remember:"form",data:function(){return{form:{name:this.map.name,description:null==this.map.description?"":this.map.description,image:null,published:this.map.published},loading:!1}},methods:{updateMap:function(){var e=this;this.loading=!0;var t=new FormData;for(var s in t.append("_method","PATCH"),this.form)"image"===s&&null===this.form[s]||t.append(s,this.form[s]);this.$inertia.post(route("admin.map.update",this.map.id),t).then((function(){e.loading=!1,e.form.image=null}))},getFileFromInput:function(e){void 0!==e.target.files[0]&&(this.form.image=e.target.files[0])},readableBytes:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}}},i=s(0),r=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("layout",{attrs:{title:"Editing Map"}},[s("div",{staticClass:"font-bold text-xl mb-8"},[e._v("Editing Map : "+e._s(e.map.name)+" (#"+e._s(e.map.id)+")")]),e._v(" "),s("div",{staticClass:"w-full"},[s("div",[s("div",[s("div",[s("p",{staticClass:"mt-1 max-w-2xl text-sm leading-5 text-gray-500"},[e._v("\n            This information will be displayed publicly so be careful what you write down...\n          ")])]),e._v(" "),s("div",{staticClass:"mt-6 sm:mt-5"},[s("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},[s("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2",attrs:{for:"name"}},[e._v("\n              Name\n            ")]),e._v(" "),s("div",{staticClass:"mt-1 sm:mt-0 sm:col-span-2"},[s("div",{staticClass:"max-w-lg flex rounded-md shadow-sm"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"flex-1 form-input block w-full rounded-none rounded-md transition duration-150 ease-in-out sm:text-sm sm:leading-5",class:{"border-red-500 text-red-900 placeholder-red-300 focus:border-red-500 focus:shadow-outline-red":e.$page.errors.name},attrs:{id:"name"},domProps:{value:e.form.name},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.submit.click()},input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),e._v(" "),e._l(e.$page.errors.name,(function(t){return s("p",{directives:[{name:"show",rawName:"v-show",value:e.$page.errors.name,expression:"$page.errors.name"}],staticClass:"mt-2 text-xs text-red-600"},[e._v("\n                "+e._s(t))])}))],2)]),e._v(" "),s("div",{staticClass:"mt-6 sm:mt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},[s("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2",attrs:{for:"description"}},[e._v("\n              Description\n            ")]),e._v(" "),s("div",{staticClass:"mt-1 sm:mt-0 sm:col-span-2"},[s("div",{staticClass:"max-w-lg flex rounded-md shadow-sm"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form-textarea block w-full transition duration-150 ease-in-out sm:text-sm sm:leading-5",class:{"border-red-500 text-red-900 placeholder-red-300 focus:border-red-500 focus:shadow-outline-red":e.$page.errors.description},attrs:{id:"description",rows:"3"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})]),e._v(" "),e._l(e.$page.errors.description,(function(t,a){return s("p",{directives:[{name:"show",rawName:"v-show",value:e.$page.errors.description,expression:"$page.errors.description"}],key:a,staticClass:"mt-2 text-xs text-red-600"},[e._v(e._s(t))])})),e._v(" "),s("p",{staticClass:"mt-2 text-sm text-gray-500"},[e._v("Write a few sentences about this map.")])],2)]),e._v(" "),s("div",{staticClass:"mt-6 sm:mt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center sm:border-t sm:border-gray-200 sm:pt-5"},[s("label",{staticClass:"block text-sm leading-5 font-medium text-gray-700",attrs:{for:"photo"}},[e._v("\n              Template\n            ")]),e._v(" "),s("div",{staticClass:"mt-2 sm:mt-0 sm:col-span-2"},[s("div",{staticClass:"flex items-center"},[s("span",{staticClass:"h-48 w-64 md:w-64 md:h-64 overflow-hidden bg-gray-100 flex"},[s("div",{staticClass:"col-span-4 flex justify-center self-center"},[e.map.image?s("img",{staticClass:"rounded-lg",attrs:{src:e.map.image.location,alt:e.map.image.name}}):s("img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/a/ac/No_image_available.svg",alt:"No image"}})])]),e._v(" "),s("span",{staticClass:"ml-5 rounded-md shadow-sm flex"},[s("div",[e.map.image?s("a",{staticClass:"py-2 px-3 border-2 border-indigo-600 hover:border-indigo-700 rounded-md text-sm leading-4 font-medium text-indigo-600 hover:text-indigo-700 focus:outline-none focus:border-indigo-800 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out",attrs:{href:e.map.image.location,target:"_blank",type:"button"}},[e._v("\n                      Download\n                    ")]):e._e(),e._v(" "),s("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.getFileFromInput}}),e._v(" "),s("button",{staticClass:" ml-2 py-2 px-3 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-600 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out",class:{"border-red-500 text-red-700 placeholder-red-300 focus:border-red-500 focus:shadow-outline-red":e.$page.errors.image},attrs:{type:"button"},on:{click:function(t){return e.$refs.file.click()}}},[e._v("\n                      Change\n                    ")])])])]),e._v(" "),s("p",{staticClass:"mt-2 text-xs italic text-indigo-500"},[e._v("Changing this image has a great impact, every question\n                will have atleast 1 template image that is based on this..."),s("br"),e._v("\n                That means if you wanna change this image, also change all the question templates (map overview\n                images)")]),e._v(" "),s("div",{staticClass:"mt-4"},[e._l(e.$page.errors.image,(function(t,a){return s("p",{directives:[{name:"show",rawName:"v-show",value:e.$page.errors.image,expression:"$page.errors.image"}],key:a,staticClass:"mt-2 text-xs text-red-600"},[e._v("\n                  "+e._s(t))])})),e._v(" "),e.form.image?s("div",{staticClass:"relative text-gray-500 text-xs border rounded-md w-auto box-border p-4",class:{"border-red-500 text-red-900 placeholder-red-300":e.$page.errors.image,"border-indigo-500":!e.$page.errors.image}},[s("div",{staticClass:"hidden sm:block absolute top-0 right-0 pt-4 pr-4"},[s("button",{staticClass:"text-gray-400 hover:text-gray-500 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",attrs:{type:"button"},on:{click:function(t){e.form.image=null}}},[s("svg",{staticClass:"h-6 w-6",attrs:{stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),e._v("\n                  File to upload : "+e._s(e.form.image.name)),s("br"),e._v("\n                  Type : "+e._s(e.form.image.type)),s("br"),e._v("\n                  Size : "+e._s(e.readableBytes(e.form.image.size))+"\n                ")]):e._e()],2)])])])]),e._v(" "),s("div",{},[s("div",{staticClass:"mt-6 sm:mt-5"},[s("div",{staticClass:"sm:border-t sm:border-gray-200 sm:pt-5"},[s("fieldset",[s("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-baseline"},[s("div",[s("legend",{staticClass:"text-base leading-6 font-medium text-gray-900 sm:text-sm sm:leading-5 sm:text-gray-700"},[e._v("\n                    Others\n                  ")])]),e._v(" "),s("div",{staticClass:"mt-4 sm:mt-0 sm:col-span-2"},[s("div",{staticClass:"max-w-lg"},[s("div",{staticClass:"relative flex items-start"},[s("div",{staticClass:"absolute flex items-center h-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.published,expression:"form.published"}],staticClass:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out",attrs:{id:"published",type:"checkbox"},domProps:{checked:Array.isArray(e.form.published)?e._i(e.form.published,null)>-1:e.form.published},on:{change:function(t){var s=e.form.published,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=e._i(s,null);a.checked?r<0&&e.$set(e.form,"published",s.concat([null])):r>-1&&e.$set(e.form,"published",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form,"published",i)}}})]),e._v(" "),s("div",{staticClass:"pl-7 text-sm leading-5"},[s("label",{staticClass:"font-medium text-gray-700",attrs:{for:"comments"}},[e._v("Published")]),e._v(" "),e._l(e.$page.errors.published,(function(t,a){return s("p",{directives:[{name:"show",rawName:"v-show",value:e.$page.errors.published,expression:"$page.errors.published"}],key:a,staticClass:"mt-2 text-xs text-red-600"},[e._v(e._s(t))])})),e._v(" "),s("p",{staticClass:"text-gray-500"},[e._v("Make the map available to the public")])],2)])])])])])])])])]),e._v(" "),s("div",{staticClass:"mt-8 border-t border-gray-200 pt-5"},[s("div",{staticClass:"flex justify-end"},[s("span",{staticClass:"inline-flex rounded-md shadow-sm"},[s("inertia-link",{staticClass:"py-2 px-4 border border-gray-300 rounded-md text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out",attrs:{href:e.$route("admin.map.index")}},[e._v("\n            Cancel\n          ")])],1),e._v(" "),s("span",{staticClass:"ml-3 inline-flex rounded-md shadow-sm"},[s("button",{ref:"submit",staticClass:"inline-flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md transition duration-150 ease-in-out",class:{"cursor-not-allowed bg-indigo-400 text-gray-700":!0===e.loading,"text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700":!1===e.loading},attrs:{disabled:e.loading,type:"button"},on:{click:e.updateMap}},[e._v("\n            Save\n          ")])])])]),e._v(" "),s("div",{staticClass:"mt-8"},[s("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[e._v("\n        Questions\n        "),s("inertia-link",{staticClass:"cursor-pointer inline-flex items-center px-2 py-0.5 rounded text-xs font-medium leading-4 bg-indigo-600 hover:bg-indigo-500 focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 text-white ml-2 transition duration-150 ease-in-out",attrs:{href:e.$route("admin.question.create",{map:e.map.id})}},[e._v("\n          Create\n        ")])],1),e._v(" "),s("div",{staticClass:"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 text-center overflow-auto h-64 sm:h-full border border-gray-300 rounded-md box-border py-4 px-2"},e._l(e.map.questions,(function(t){return s("span",[s("inertia-link",{staticClass:" mr-8",attrs:{href:e.$route("admin.question.edit",{map:e.map.id,question:t.id})}},[e._v(e._s(t.callout))])],1)})),0)])])])}),[],!1,null,null,null);t.default=r.exports}}]);
//# sourceMappingURL=14.js.map