(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{19:function(e,t,s){"use strict";s.r(t);var n={components:{Layout:s(1).default},props:{map:Object},data:function(){return{question:{},answers:{},selectedAnswer:null,correctAnswer:null}},methods:{checkAnswer:function(e){if(null!=this.correctAnswer&&null!=this.selectedAnswer){if(this.correctAnswer!=this.selectedAnswer&&this.selectedAnswer==e)return!1;if(this.correctAnswer==this.selectedAnswer&&this.selectedAnswer==e)return!0}else if(null==this.correctAnswer&&null!=this.selectedAnswer&&this.selectedAnswer==e)return"checking";return null},selectAnswer:function(e){null==this.selectedAnswer&&(this.selectedAnswer=e)},getQuestion:function(){var e=this,t={url:this.$route("quiz.get-question",{map:this.map.id}),method:"POST",headers:{Accept:"application/json"}};axios(t).then((function(t){e.question=t.data.question,e.answers=t.data.answers})).catch((function(e){})).then((function(e){}))},getCorrectAnswer:function(){var e=this,t={url:this.$route("quiz.check-answer",{map:this.map.id,question:this.question.id}),method:"POST",headers:{Accept:"application/json"},data:{answer:this.selectedAnswer}};axios(t).then((function(t){e.correctAnswer=t.data})).catch((function(e){})).then((function(e){}))},reset:function(){this.selectedAnswer=null,this.correctAnswer=null,this.question={},this.getQuestion()}},watch:{selectedAnswer:function(){null!=this.selectedAnswer&&this.getCorrectAnswer()},correctAnswer:function(){var e,t=this;if(null!=this.selectedAnswer){(e=3600,new Promise((function(t){return setTimeout(t,e)}))).then((function(){t.reset()}))}}},mounted:function(){this.reset()}},i=s(0),c=Object(i.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("layout",{attrs:{title:"Quiz : "+e.map.name,"quiz-mode":!0}},[s("div",{staticClass:"w-full h-screen bg-gray-400"},[s("div",{staticClass:"flex flex-col md:flex-row h-full"},[s("div",{staticClass:"flex-auto text-center md:px-4 md:py-2 md:m-2"},[s("img",{staticClass:"object-contain w-full h-full",attrs:{src:e.question.image}})]),e._v(" "),s("div",{staticClass:"text-center px-1 pt-1 md:px-2 md:py-2 md:m-2 flex flex-col justify-center md:w-3/12 lg:w-3/12 xl:w-2/12"},[s("div",{staticClass:"overflow-hidden"},[s("ul",e._l(e.answers,(function(t,n){return s("li",{key:t.id,staticClass:"rounded md:rounded-md mb-2",class:{"bg-blue-300":"checking"==e.checkAnswer(t.id),"bg-green-300":e.correctAnswer==t.id,"bg-red-300":0==e.checkAnswer(t.id),"bg-white":null==e.checkAnswer(t.id)},on:{click:function(s){return e.selectAnswer(t.id)}}},[s("div",{staticClass:"block focus:outline-none transition duration-150 ease-in-out select-none",class:{"focus:bg-gray-100 hover:bg-gray-100":null==e.selectedAnswer}},[s("div",{staticClass:"flex items-center px-2 py-2 md:py-4 md:px-6"},[s("div",{staticClass:"min-w-0 flex-1 flex items-center"},[s("div",{staticClass:"min-w-0 flex-1 px-4"},[s("div",[s("div",{staticClass:"text-sm leading-5 font-medium text-indigo-600 truncate"},[e._v(e._s(t.callout))])])])])])])])})),0)])])])])])}),[],!1,null,null,null);t.default=c.exports}}]);
//# sourceMappingURL=18.js.map