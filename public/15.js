(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{16:function(t,e,a){"use strict";a.r(e);var s={components:{Layout:a(1).default},props:{map:Object},remember:"form",data:function(){return{form:{callout:"",published:"",template:null},loading:!1}},methods:{createQuestion:function(){var t=this;this.loading=!0;var e=new FormData;for(var a in e.append("_method","POST"),this.form)e.append(a,this.form[a]);this.$inertia.post(route("admin.question.store",{map:this.map.id}),e).then((function(){t.loading=!1}))},getFileFromInput:function(t){void 0!==t.target.files[0]&&(this.form.template=t.target.files[0])},readableBytes:function(t){var e=Math.floor(Math.log(t)/Math.log(1024));return 1*(t/Math.pow(1024,e)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][e]}}},r=a(0),o=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{attrs:{title:"Editing Question"}},[a("div",{staticClass:"font-bold text-xl mb-8"},[t._v("Creating Question for : "+t._s(t.map.name)+" (#"+t._s(t.map.id)+")")]),t._v(" "),a("div",{staticClass:"w-full"},[a("div",[a("div",[a("div",[a("p",{staticClass:"mt-1 max-w-2xl text-sm leading-5 text-gray-500"},[t._v("\n            This information will be displayed publicly so be careful what you write down...\n          ")])]),t._v(" "),a("div",{staticClass:"mt-6 sm:mt-5"},[a("div",{staticClass:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"},[a("label",{staticClass:"block text-sm font-medium leading-5 text-gray-700 sm:mt-px sm:pt-2",attrs:{for:"callout"}},[t._v("\n              Callout\n            ")]),t._v(" "),a("div",{staticClass:"mt-1 sm:mt-0 sm:col-span-2"},[a("div",{staticClass:"max-w-lg flex rounded-md shadow-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.callout,expression:"form.callout"}],staticClass:"flex-1 form-input block w-full rounded-none rounded-md transition duration-150 ease-in-out sm:text-sm sm:leading-5",class:{"border-red-500 text-red-900 placeholder-red-300 focus:border-red-500 focus:shadow-outline-red":t.$page.errors.callout},attrs:{id:"callout"},domProps:{value:t.form.callout},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$refs.submit.click()},input:function(e){e.target.composing||t.$set(t.form,"callout",e.target.value)}}})]),t._v(" "),t._l(t.$page.errors.callout,(function(e){return a("p",{directives:[{name:"show",rawName:"v-show",value:t.$page.errors.callout,expression:"$page.errors.callout"}],staticClass:"mt-2 text-xs text-red-600"},[t._v("\n                "+t._s(e))])}))],2)])])]),t._v(" "),a("div",{staticClass:"mt-6 sm:mt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center sm:border-t sm:border-gray-200 sm:pt-5"},[a("label",{staticClass:"block text-sm leading-5 font-medium text-gray-700",attrs:{for:"photo"}},[t._v("\n              Template\n            ")]),t._v(" "),a("div",{staticClass:"mt-2 sm:mt-0 sm:col-span-2"},[a("div",{staticClass:"flex items-center"},[a("span",{staticClass:"rounded-md shadow-sm flex"},[a("div",[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.getFileFromInput}}),t._v(" "),a("button",{staticClass:" py-2 px-3 border border-gray-300 rounded-md text-sm leading-4 font-medium text-gray-600 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out",class:{"border-red-500 text-red-700 placeholder-red-300 focus:border-red-500 focus:shadow-outline-red":t.$page.errors.template},attrs:{type:"button"},on:{click:function(e){return t.$refs.file.click()}}},[t._v("\n                      Choose template\n                    ")])])])]),t._v(" "),a("small",{staticClass:"text-red-700 text-xs sm:text-red-500"},[t._v("\n                    There always have to be 1 template picture for a question. "),a("br"),t._v("\n                    When the question is created you will be able to add more picutes. "),a("br"),t._v("\n                    Make sure the template being used is the same as the map image."),a("br"),a("br"),t._v("\n                    Click\n                "),a("a",{staticClass:"italic text-red-600",attrs:{href:t.map.image.location,download:t.map.image.name}},[t._v("\n                  here\n                ")]),t._v("\n                for the image\n              ")]),t._v(" "),a("div",{staticClass:"mt-4"},[t._l(t.$page.errors.template,(function(e){return a("p",{directives:[{name:"show",rawName:"v-show",value:t.$page.errors.template,expression:"$page.errors.template"}],staticClass:"mt-2 text-xs text-red-600"},[t._v("\n                  "+t._s(e))])})),t._v(" "),t.form.template?a("div",{staticClass:"relative text-gray-500 text-xs border rounded-md w-auto box-border p-4",class:{"border-red-500 text-red-900 placeholder-red-300":t.$page.errors.template,"border-indigo-500":!t.$page.errors.template}},[a("div",{staticClass:"hidden sm:block absolute top-0 right-0 pt-4 pr-4"},[a("button",{staticClass:"text-gray-400 hover:text-gray-500 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",attrs:{type:"button"},on:{click:function(e){t.form.template=null}}},[a("svg",{staticClass:"h-6 w-6",attrs:{stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),t._v("\n                  File to upload : "+t._s(t.form.template.name)),a("br"),t._v("\n                  Type : "+t._s(t.form.template.type)),a("br"),t._v("\n                  Size : "+t._s(t.readableBytes(t.form.template.size))+"\n                ")]):t._e()],2)])])]),t._v(" "),a("div",{staticClass:"mt-8 border-t border-gray-200 pt-5"},[a("div",{staticClass:"flex justify-end"},[a("span",{staticClass:"inline-flex rounded-md shadow-sm"},[a("inertia-link",{staticClass:"py-2 px-4 border border-gray-300 rounded-md text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out",attrs:{href:t.$route("admin.map.edit",{map_id:t.map.id})}},[t._v("\n            Cancel\n          ")])],1),t._v(" "),a("span",{staticClass:"ml-3 inline-flex rounded-md shadow-sm"},[a("button",{ref:"submit",staticClass:"inline-flex justify-center py-2 px-4 border border-transparent text-sm leading-5 font-medium rounded-md transition duration-150 ease-in-out",class:{"cursor-not-allowed bg-indigo-400 text-gray-700":!0===t.loading,"text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700":!1===t.loading},attrs:{disabled:t.loading,type:"button"},on:{click:t.createQuestion}},[t._v("\n            Save\n          ")])])])])])])}),[],!1,null,null,null);e.default=o.exports}}]);
//# sourceMappingURL=15.js.map